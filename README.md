# 🧠 daily-self-regulation-llm

An LLM system for daily behavior analysis, reflection, and adaptive self-improvement.
일일 행동 분석, 성찰, 자기조정 피드백을 위한 LLM 시스템

# 📌 1. 프로젝트 개요 (Overview)

daily-self-regulation-llm은
개인의 하루 데이터를 기반으로 행동 개선, 집중력 분석, 조언 및 격려를 제공하는
LLM 기반 자기조정형 리포트 생성 시스템입니다.

이 시스템은 다음 세 가지 질문에 답하기 위해 설계되었습니다:

1.나는 오늘 시간을 어떻게 썼는가?

2.오늘의 행동이 주간 목표에 어떤 기여/방해를 했는가?

3.성장과 행복 사이의 균형이 잘 이루어졌는가? 

# 🪄 Motivation

2018년부터 제 일상(icalnder, naver, notion,etc)을 기록해왔어요.
그때마다 “나는 지금 내 목표를 향해 제대로 가고 있을까?”를 자주 되묻곤 했습니다.

이 프로젝트는 그 질문에 답하기 위한 시도예요.
RAG를 활용해 하루를 추적하고,
주간·월간·분기 목표와의 간격을 점검하며,
비생산적인 습관이나 컨디션 하락의 징후를 포착합니다.

유튜브나 드라마를 줄이는 게 아니라,
“언제, 얼마나, 어떤 리듬으로 즐기는 게 나에게 도움이 되는가”
그 균형을 배우고 싶습니다.

---

## 🔄 시스템 파이프라인

### 전체 아키텍처

```
┌─────────────────┐
│  Data Sources   │
├─────────────────┤
│ 📅 Calendar     │
│ 📝 Notion       │
│ 📰 Naver Blog   │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│   Crawlers      │  ← Selenium/API 기반 데이터 수집
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│   MongoDB       │  ← Raw 데이터 저장
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│  Preprocessing  │  ← 카테고리 분류, Agency 매핑
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ Cleaned MongoDB │  ← 전처리된 데이터
└────────┬────────┘
         │
         ▼
┌─────────────────────────────────┐
│  📊 Streamlit Dashboard         │
│                                 │
│  ┌─────────────────────────┐   │
│  │  Interactive Charts     │   │
│  │  (Plotly)               │   │
│  └─────────────────────────┘   │
│              │                  │
│              ▼                  │
│  ┌─────────────────────────┐   │
│  │  🤖 LLM Feedback        │   │
│  │  (In-Context Learning)  │   │
│  │                         │   │
│  │  • Daily Summary        │◄──┼── GPT4o-mini API
│  │  • Goal Analysis        │   │   (Temperature: 0.7)
│  │  • Balance Check        │   │
│  │  • Actionable Advice    │   │
│  └─────────────────────────┘   │
└─────────────────────────────────┘
```

### 주요 프로세스

#### 1️⃣ 데이터 수집 (Crawlers)
- **Calendar**: Apple Calendar .xlsx 파일 파싱
- **Notion**: Notion API를 통한 데이터베이스/페이지 크롤링
- **Naver Blog**: Selenium 기반 블로그 포스트 수집

#### 2️⃣ 데이터 전처리 (Preprocessing)
- **카테고리 자동 분류**: 이벤트명/메모 기반 카테고리 할당
- **Agency 매핑**: 일/생산, 학습/성장, 재충전, 일상관리, Drain
- **태그 추출**: #인간관계, #즉시만족 등 특수 태그 감지
- **시간 정규화**: 날짜별 이벤트 집계 및 지속시간 계산

#### 3️⃣ 시각화 (Dashboard)
- **Plotly 기반 인터랙티브 차트**
- **Agency 파이차트**: 영역별 시간 분포
- **카테고리 분석**: 운동, 독서, 코딩 등 상세 분류
- **5개 영역 상세 분석**: 이벤트별 집중 시간 및 메모 확인

---

## 📊 시각화 대시보드

### 🌐 Live Demo
**Public Dashboard**: [http://34.63.195.29:8502](http://34.63.195.29:8502)

> ⚠️ **참고**: 현재는 systemd 서비스로 직접 배포 중이며, Docker 컨테이너화는 진행 중입니다.

### 주요 기능

#### 📈 일별 활동 리포트
- **전체 통계**: 총 기록 시간, 활동 수, #인간관계, #즉시만족 집계
- **Agency 파이차트**: 5개 영역 시간 분포 시각화
- **카테고리별 시간 분포**: 세부 카테고리별 시간 분석 (% 표시)
- **수면 상세 분석**: 수면 이벤트별 시간 및 메모

#### 🎯 5개 영역 상세 분석
1. **💼 일/생산**: 이벤트별 집중 시간 (업무 태그 포함)
2. **📚 학습/성장**: 학습 방법 및 목표별 분석
3. **🌴 재충전**: 기본/소셜 재충전 분류 (#인간관계 태그)
4. **⚠️ Drain**: 비생산적 활동 추적 (#즉시만족)
5. **🏠 일상 관리**: 일상 유지 활동 (식사, 청소 등)

#### 💡 Interactive 차트
- **호버 시 상세 정보**: 메모, 태그, 정확한 시간
- **비율 표시**: 하루 기준 퍼센티지
- **이벤트별 분석**: Top 15 이벤트 시각화

---

## 🚀 Quick Start

상세한 개발 환경 설정 및 크롤러 실행 방법은 [DEVELOPMENT_GUIDE.md](DEVELOPMENT_GUIDE.md)를 참고하세요.


```
