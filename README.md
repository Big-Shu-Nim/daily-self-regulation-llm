# 🧠 daily-self-regulation-llm

An LLM system for daily behavior analysis, reflection, and adaptive self-improvement.
일일 행동 분석, 성찰, 자기조정 피드백을 위한 LLM 시스템

# 📌 1. 프로젝트 개요 (Overview)

daily-self-regulation-llm은
개인의 하루 데이터를 기반으로 행동 개선, 집중력 분석, 조언 및 격려를 제공하는
LLM 기반 자기조정형 리포트 생성 시스템입니다.

이 시스템은 다음 세 가지 질문에 답하기 위해 설계되었습니다:

1.나는 오늘 시간을 어떻게 썼는가?

2.오늘의 행동이 주간 목표에 어떤 기여/방해를 했는가?

3.성장과 행복 사이의 균형이 잘 이루어졌는가? 

# 🪄 Motivation

2018년부터 제 일상(icalnder, naver, notion,etc)을 기록해왔어요.
그때마다 “나는 지금 내 목표를 향해 제대로 가고 있을까?”를 자주 되묻곤 했습니다.

이 프로젝트는 그 질문에 답하기 위한 시도예요.
RAG를 활용해 하루를 추적하고,
주간·월간·분기 목표와의 간격을 점검하며,
비생산적인 습관이나 컨디션 하락의 징후를 포착합니다.

유튜브나 드라마를 줄이는 게 아니라,
“언제, 얼마나, 어떤 리듬으로 즐기는 게 나에게 도움이 되는가”
그 균형을 배우고 싶습니다.

---

## 🔄 시스템 파이프라인

### 전체 아키텍처

```
┌─────────────────────────────────────────────┐
│           Data Sources (다중 소스)            │
├─────────────────────────────────────────────┤
│ 📅 Apple Calendar (.xlsx)                   │
│ 📅 Google Calendar API (OAuth 2.0)          │
│ 📝 Notion API                               │
│ 📰 Naver Blog (Selenium)                    │
└────────┬────────────────────────────────────┘
         │
         ▼
┌─────────────────────────────────────────────┐
│      Crawlers (크롤링 레이어)                 │
│  • Google Calendar: 실시간 API 동기화         │
│    (OAuth 2.0, 증분 동기화, Soft Delete)     │
│  • Calendar: .xlsx 파일 파싱                 │
│  • Notion: 데이터베이스/페이지 크롤링          │
└────────┬────────────────────────────────────┘
         │
         ▼
┌─────────────────────────────────────────────┐
│    MongoDB (Raw 데이터 저장)                  │
└────────┬────────────────────────────────────┘
         │
         ▼
┌─────────────────────────────────────────────┐
│    Preprocessing (데이터 전처리)              │
│  • Agency 모드 매핑 (Creator/Learner/        │
│    Recharger/Maintainer/Drain)              │
│  • 카테고리 자동 분류                         │
│  • 태그 추출 (#인간관계, #즉시만족)            │
│  • 중복 제거 및 시간 정규화                   │
└────────┬────────────────────────────────────┘
         │
         ▼
┌─────────────────────────────────────────────┐
│    Cleaned MongoDB (전처리된 데이터)          │
└────────┬────────────────────────────────────┘
         │
         ▼
┌─────────────────────────────────────────────┐
│  📊 Streamlit Dashboard (3가지 타입)         │
├─────────────────────────────────────────────┤
│  🔐 Privacy Filter (개인정보 보호)           │
│  📈 Interactive Charts (Plotly)             │
│  🤖 LLM Feedback System                    │◄─ GPT-5 / Gemini 2.5
│     • Daily/Weekly/Monthly                 │   (17종 모델)
│     • V2 Prompt (메트릭 기반)               │
│     • 6가지 스타일                          │
└─────────────────────────────────────────────┘
```

### 핵심 기능

#### 📥 데이터 수집
- **Google Calendar API**: 실시간 동기화, OAuth 2.0, 증분 업데이트
- **Apple Calendar**: .xlsx 파일 파싱
- **Notion API**: 데이터베이스/페이지 크롤링

#### 🔄 데이터 전처리
- **Agency 모드 매핑**: Creator/Learner/Recharger/Maintainer/Drain
- **자동 분류**: 카테고리, 태그 추출, 중복 제거

#### 📊 시각화 & 피드백
- **3가지 대시보드**: Public/Experiment/Daily Report
- **LLM 피드백**: 일별/주간/월간 (17종 모델 지원)
- **개인정보 보호**: 자동 마스킹, 필터링

---

## 📊 대시보드 & 피드백

### 🌐 Live Demo
**Public Dashboard**: [http://34.63.195.29:8502](http://34.63.195.29:8502)

### 3가지 대시보드

| 대시보드 | 용도 | 주요 기능 |
|---------|------|-----------|
| 📊 **Public** | 공개용 | 개인정보 자동 마스킹, 최근 7일 데이터 |
| 🧪 **Experiment** | LLM 테스트 | 17종 모델 비교, 6가지 프롬프트 스타일, 성능 메트릭 |
| 📈 **Daily Report** | 개인 분석 | 전체 데이터 접근, 상세 메모/태그 확인 |

### Agency 모드 (5가지 역할)

- **💼 Creator**: 일/생산 (프로젝트, 개발, 업무)
- **📚 Learner**: 학습/성장 (논문, 튜토리얼, 연습)
- **🌴 Recharger**: 수면, 휴식/회복, 운동
- **🏠 Maintainer**: 유지/정리, daily/chore
- **⚠️ Drain**: 충동루프, 즉각 만족 활동

### LLM 피드백 시스템

- **일별**: 활동 요약, 균형 분석, 조언
- **주간**: 패턴 분석 (성공/실패), 실험 제안, 대표 태그 5~7개
- **월간**: 장기 트렌드, 목표 달성도

**V2 프롬프트** (주간): 사전 계산된 메트릭 활용 → 패턴 분석 집중

---

## 🚀 Quick Start
상세한 개발 환경 설정 및 크롤러 실행 방법은 [DEVELOPMENT_GUIDE.md](DEVELOPMENT_GUIDE.md)를 참고하세요.
